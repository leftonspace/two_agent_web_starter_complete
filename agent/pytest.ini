# pytest.ini
# Configuration for pytest test discovery and execution
# Created: 2025-11-25 (Phase 6 audit)

[pytest]
# Test discovery paths
testpaths = tests tests_sanity

# Stage-specific test directories (uncomment as needed)
# tests_stage7 tests_stage8 tests_stage9 tests_stage10 tests_stage11 tests_stage12 tests_config

# File patterns for test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test markers
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests (require external services)
    e2e: marks tests as end-to-end tests
    requires_llm: marks tests that need real LLM API calls (expensive)
    deprecated: marks tests for deprecated modules (run_logger, etc.)

# Async test mode
asyncio_mode = auto

# Warning filters
filterwarnings =
    # Show deprecation warnings from our own code
    default::DeprecationWarning
    # Ignore deprecation warnings from third-party packages
    ignore::DeprecationWarning:pkg_resources.*
    ignore::DeprecationWarning:google.*

# Output verbosity
addopts = -v --tb=short

# Minimum pytest version
minversion = 7.0
