{
  "timeZone": "America/New_York",
  "dependencies": {
    "enabledAdvancedServices": [
      {
        "userSymbol": "Gmail",
        "version": "v1",
        "serviceId": "gmail"
      },
      {
        "userSymbol": "Calendar",
        "version": "v3",
        "serviceId": "calendar"
      }
    ]
  },
  "exceptionLogging": "STACKDRIVER",
  "runtimeVersion": "V8",
  "oauthScopes": [
    "https://www.googleapis.com/auth/gmail.readonly",
    "https://www.googleapis.com/auth/gmail.compose",
    "https://www.googleapis.com/auth/gmail.modify",
    "https://www.googleapis.com/auth/calendar.readonly",
    "https://www.googleapis.com/auth/script.external_request"
  ],
  "addOns": {
    "common": {
      "name": "JARVIS Email Assistant",
      "logoUrl": "${JARVIS_BASE_URL}/assets/icon-128.png",
      "useLocaleFromApp": true,
      "homepageTrigger": {
        "runFunction": "onHomepage",
        "enabled": true
      },
      "universalActions": [
        {
          "label": "Settings",
          "runFunction": "showSettings"
        },
        {
          "label": "Help",
          "openLink": {
            "url": "${JARVIS_BASE_URL}/help/gmail-addon",
            "onClose": "NOTHING"
          }
        }
      ]
    },
    "gmail": {
      "contextualTriggers": [
        {
          "unconditional": {},
          "onTriggerFunction": "onGmailMessage"
        }
      ],
      "composeTrigger": {
        "selectActions": [
          {
            "text": "AI Draft Assistant",
            "runFunction": "onCompose"
          }
        ],
        "draftAccess": "METADATA"
      }
    }
  }
}
